---
layout: post
title: "[DevOps] - Anchore 이미지 분석 툴 사용 With Jenkins"
author: Lee Wonseok
categories: DevOps
date: 2020-12-28 12:36
comments: true
cover: "/assets/kubernets.jpg"
tags: DevOps
---



#  [DevOps] - Anchore 이미지 분석 사용 With Jenkins
**머리말**  

**지난 포스트에서 간단하게 전체적인 파이프라인에 대해서 포스트를 했습니다.**  
**이번 포스트에서는 자동화된 파이프라인 내에서 Harbor에 올라가 배포 될 이미지의 분석 툴인**  
**Anchor를 도입하는 포스트를 작성했습니다.**


---

**전체적인 프로젝트 글들은 아래를 참고 해주시면 됩니다.**

### [1. Jenkins를 이용한 CI 구축기](https://nasa1515.github.io/devops/2020/09/22/CICD.html)
### [2. Rancher를 사용한 k8s 클러스터 구축기 - on-pre 환경](https://nasa1515.github.io/devops/2020/10/13/CICD.html)
### [3. Rancher를 사용한 k8s 클러스터 구축기 GKE](https://nasa1515.github.io/devops/2020/10/13/CICD2.html)
### [4. Argo-CD를 이용한 배포 자동화](https://nasa1515.github.io/devops/2020/10/14/CICD3.html)
### [5. 보안 취약점 검사를 위한 Dvmn 앱 배포하기!](https://nasa1515.github.io/devops/2020/10/21/CICD4.html)
### [6. GCP의 FileStore (NFS) 사용해 DB 데이터 백업](https://nasa1515.github.io/devops/2020/10/21/CICD5.html)
### [7. Jenkins로 Dvmn 앱 이미지 빌드 및 푸시하기](https://nasa1515.github.io/devops/2020/10/21/CICD6.html)

---


* **사용 할 툴을 다음과 같습니다.**  

    - **Jenkins**
    * **Anchore**

---


**목차**

- [Anchore 설치](#a1)
- [HTTP 연결 방법](#a2)
- [클러스터 연결](#a3)
- [쿠버네티스 시크릿 생성](#a4)

---


<br/>

### **Anchore 설치 (Docker)** <a name="a1"></a>

<br/>

* **Anchore 설치의 경우 이미 많은 분들이 Docker로 설치하고 Jenkins와 연동하는 부분을 포스트하셨기에**  **제 포스트에서는 간단하게 명령어로만 정리하였습니다.**



    ```
    $ curl https://docs.anchore.com/current/docs/engine/quickstart/docker-compose.yaml > docker-compose.yaml
    $ docker-compose up -d

    $ yum install epel-release
    $ yum install python-pip
    $ pip install anchorecli
    ```